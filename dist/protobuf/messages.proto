syntax = "proto3";

package protoc;

// Action - Public Message (0002)
message PublicMessageAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    varchar Subject                                = 1;   // varchar
    OutputField Regarding                          = 2;   // Output
    DocumentField PublicMessage                    = 3;   // Document
    repeated DocumentField Attachments             = 4;   // Document[]
}

// Action - Private Message (0003)
message PrivateMessageAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    varchar Subject                                = 1;   // varchar
    OutputField Regarding                          = 2;   // Output
    DocumentField PrivateMessage                   = 3;   // Document
    repeated DocumentField Attachments             = 4;   // Document[]
}

// Action - Reverted Tx (0004)
message RevertedTxAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    varbin Transaction                             = 1;   // varbin
}

// Action - Offer (1001)
message OfferAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    varbin Payload                                 = 1;   // varbin
}

// Action - Signature Request (1002)
message SignatureRequestAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    varbin Payload                                 = 1;   // varbin
}

// Action - Settlement Request (1003)
message SettlementRequestAction {
    TimestampField Timestamp                       = 0;   // Timestamp
    TxIdField TransferTxId                         = 1;   // TxId
    repeated TargetAddressField ContractFees       = 2;   // TargetAddress[]
    varbin Settlement                              = 3;   // varbin
}

// Action - Output Metadata (1004)
message OutputMetadataAction {
    varchar OutputDescription                      = 0;   // varchar
    repeated TagField Tags                         = 1;   // Tag[]
    repeated OutputTagField CustomTags             = 2;   // OutputTag[]
}


// Field - Output
message OutputField {
    TxIdField TxId                                 = 0;   // TxId
    uint OutputIndex                               = 1;   // uint
}

// Field - Output Tag
message OutputTagField {
    varchar Tag                                    = 0;   // varchar
}

// Field - Document
message DocumentField {
    varchar Name                                   = 0;   // varchar
    varchar Type                                   = 1;   // varchar
    varbin Contents                                = 2;   // varbin
}

