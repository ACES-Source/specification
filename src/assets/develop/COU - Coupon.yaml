#
# COU - Coupon
#

code: COU

metadata:
  name: Coupon
  label: Coupon
  kind: Utility
  category: Coupons
  description: Value exchange coupon
  examples:
    - Sale Price Discount
    - Kickstarter Campaign
    - Free Beer at BSV Meetup

fields:
  - name: Version
    label: Version
    type: uint8
    description: Payload Version
    size: 1
    example: 0
    computed: true

  - name: TradingRestriction
    label: Trading Restriction
    type: polity
    size: 5
    example: AUS
    span: full

  - name: RedeemingEntity
    label: Redeeming Entity
    type: varchar
    # varchar size is number of bits to serialize the size of the value
    size: 8
    size: 255
    example: Woolworths - Robina Town Centre
    span: full
    displayOrder: 2

  - name: IssueDate
    label: Issue Date
    type: time
    size: 8
    example: Sat Dec 12 2015 18:00:00 GMT+1000 (AEST)
    span: left
    displayOrder: 3
    default: now

  - name: ExpiryDate
    label: Expiry Date
    type: time
    size: 8
    example: Sat Dec 12 2020 18:00:00 GMT+1000 (AEST)
    span: right
    displayOrder: 4

  - name: Value
    label: Value
    type: uint64
    size: 8
    example: "Denominated in the smallest unit of currency specified in the Currency subfield."
    span: right
    displayOrder: 4

  - name: Currency
    label: Currency
    type: fixedchar
    size: 3
    example: AUD
    span: right
    displayOrder: 4

  - name: Description
    label: Description
    type: varchar
    # varchar size is number of bits to serialize the size of the value
    size: 16
    # size: 65,535
    example: Gift Card
    span: full
    displayOrder: 1
    required: true
