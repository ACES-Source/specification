#
# Vote Action: A vote is created by the Contract in response to a valid Referendum (Issuer) or Initiative (User) Action.  Votes can be made by Token Owners.
#

code: G3

metadata:
  name: Vote
  label: Vote Action
  description: "Vote Action -  A vote is created by the Contract in response to a valid Referendum (Issuer) or Initiative (User) Action.  Votes can be made by Token Owners.  "
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name:
      label: Contract Public Address
      comments:

  outputs:
    - name:
      label: Contract Public Address
      comments:

    - name:
      label: Issuer's Public Address
      comments: Issuer gets the threshold fee.

    - name:
      label: Contract Fee Address
      comments: Contract Operator's Fee

    - name:
      label: OP_RETURN (Vote Action)
      comments: Only one Tokenized action (excluding Message actions) per txn.  Action payload is always the last index of the txn outputs.  There is no limit to the number of M1 (message) actions per txn.

    - name:
      label: "Miner's Fee"
      comments: ~550-1000 Bytes to account for return data and txn data.

fields:
  - name: Header
    label: Header
    description: "Common header data for all messages"
    type: Header
    notes: "Common header data for all messages."

  - name: Timestamp
    label: Timestamp
    description: "Timestamp in nanoseconds of when the smart contract created the action."
    type: timestamp
    size: 8
    example_hex: 1588f8cc6a16430d
    example_value: 1551767413250187179
    notes: "Cannot be changed by issuer, operator. Smart contract controls."
