#
# Contract Amendment Action: the issuer can initiate an amendment to the contract establishment metadata. The ability to make an amendment to the contract is restricted by the Authorization Flag set on the current revision of Contract Formation action.
#

code: C3

metadata:
  name: ContractAmendment
  label: Contract Amendment Action
  description: "Contract Amendment Action - the issuer can initiate an amendment to the contract establishment metadata. The ability to make an amendment to the contract is restricted by the Authorization Flag set on the current revision of Contract Formation action."
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name: Issuer
      label: "Issuer's Public Address"
      comments:

    - name: NewIssuer
      label: New Issuer Public Address
      comments: Only treated as the new Issuer address when the Change Issuer Address flag is set to Y.

  outputs:
    - name: Contract
      label: Contract Public Address
      comments:

fields:
  - name: Header
    label: Header
    description: "Common header data for all actions"
    type: Header
    notes: "Common header data for all actions. Can be changed by Issuer or Operator at their discretion."

  - name: ChangeIssuerAddress
    label: Change Issuer Address
    description: "1 - Yes, 0 - No.  Used to change the issuer address.  The new issuer address must be in the input[1] position."
    type: bool
    size: 1
    example_hex: 01
    example_value: 1
    notes: ""

  - name: ChangeOperatorAddress
    label: Change Operator Address
    description: "1 - Yes, 0 - No.  Used to change the smart contract operator address.  The new operator address must be in the input[1] position."
    type: bool
    size: 1
    example_hex: 01
    example_value: 1
    notes: ""

  - name: ContractRevision
    label: Contract Revision
    description: "Counter 0 - 65,535"
    type: uint
    size: 2
    example_hex: 002a
    example_value: 42
    notes: ""

  - name: Amendments
    label: Amendments
    type: Amendment[]

  - name: RefTxID
    label: Ref Tx-ID
    description: "Tx-ID of the associated Result action (governance) that permitted the modifications."
    type: SHA256
    size: 32
    example_hex: a8700385d4cc62628cc34629862121f84e6237689de8e45e151dcbc8cf30b33d
    example_value: "a8700385d4cc62628cc34629862121f84e6237689de8e45e151dcbc8cf30b33d"
    notes: ""
