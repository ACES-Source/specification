#
# Confiscation Action: to be used to comply with contractual obligations, legal and/or issuer requirements.
#

code: E4

metadata:
  name: Confiscation
  label: Confiscation Action
  description: "Confiscation Action -  to be used to comply with contractual obligations, legal and/or issuer requirements."
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name: Contract
      label: Contract Public Address
      comments:

  outputs:
    - name: TargetX
      label: Target Public Address X
      comments: Can be the Contract Address for a 'Contract-wide' Confiscation.

    - name:
      label: Deposit Public Address
      comments: Dust limit rule minimum value output of 546

    - name: Contract
      label: Contract Public Address
      comments: Change

    - name: Contract Fee
      label: Contract Fee Public Address
      comments: Contract fee if applicable

fields:
  - name: Header
    label: Header
    description: "Common header data for all actions"
    type: Header
    notes: "Common header data for all actions."

  - name: AssetType
    label: Asset Type
    description: "eg. Share, Bond, Ticket"
    type: fixedchar
    size: 3
    example_hex: 534843
    example_value: "SHC"
    notes: ""

  - name: AssetCode
    label: Asset Code
    description: "32 randomly generated bytes.  Each Asset Code should be unique.  However, an Asset Code is always linked to a Contract that is identified by the public address of the Contract wallet. The Asset Type + Asset Code = Asset Code.  An Asset Code is a human readable identifier that can be used in a similar way to a Bitcoin (BSV) address."
    type: AssetCode
    example_hex: 61706d3271737a6e686b7332337a386438337534317338303139687972693369
    notes: "Cannot be changed by issuer, operator or smart contract."

  - name: Quantities
    label: Quantities
    description: "The holders effected by the confiscation and their balance remaining."
    type: QuantityIndex[]
    # array size is number of bits to serialize the size of the array
    size: 16

  - name: DepositQty
    label: Deposit Qty
    description: "Deposit address's token balance after confiscation."
    type: uint
    size: 8
    example_hex: 0000000000002710
    example_value: "10000"
    notes: ""

  - name: Timestamp
    label: Timestamp
    description: "Timestamp in nanoseconds of when the smart contract created the action."
    type: Timestamp
    example_hex: 1588f8cc6a16430d
    example_value: 1551767413250187179
    notes: "Cannot be changed by issuer, operator. Smart contract controls."
