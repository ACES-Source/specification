#
# Asset Modification Action: Token Dilutions, Call Backs/Revocations, burning etc.
#

code: A3

metadata:
  name: AssetModification
  label: Asset Modification Action
  description: "Asset Modification Action -  Token Dilutions, Call Backs/Revocations, burning etc."
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name: Issuer
      label: "Issuer's Public Address"
      comments:

  outputs:
    - name: Contract
      label: Contract Public Address
      comments: Enough for the responding action.

fields:
  - name: Header
    label: "Header"
    description: "Common header data for all actions"
    type: Header
    notes: "Common header data for all actions."

  - name: TextEncoding
    label: Text Encoding
    description: " 0 = ASCII, 1 = UTF-8, 2 = UTF-16, 3 = Unicode.  Encoding applies to all 'text' data types. All 'string' types will always be encoded with ASCII.  Where string is selected, all fields will be ASCII."
    type: uint8
    size: 1
    example_hex: 00
    example_value: "0"
    notes: "Can be changed by Issuer or Operator at their discretion."

  - name: AssetType
    label: Asset Type
    description: "eg. Share - Common"
    type: string
    size: 3
    example_hex: 534843
    example_value: "SHC"
    notes: ""

  - name: AssetID
    label: Asset ID
    description: "Randomly generated base58 string.  Each Asset ID should be unique.  However, a Asset ID is always linked to a Contract that is identified by the public address of the Contract wallet. The Asset Type + Asset ID = Asset Code.  An Asset Code is a human readable idenitfier that can be used in a similar way to a Bitcoin (BSV) address, a vanity identifying label."
    type: string
    size: 32
    example_hex: 61706d3271737a6e686b7332337a386438337534317338303139687972693369
    example_value: "apm2qsznhks23z8d83u41s8019hyri3i"
    notes: ""

  - name: AssetRevision
    label: Asset Revision
    description: "Counter. (Subfield cannot be manually changed by Asset Modification Action.  Only SC can increment by 1 with each AC action. SC will reject AM actions where the wrong asset revision has been selected. "
    type: uint64
    size: 8
    example_hex: 0000000000000000
    example_value: "0"
    notes: "Cannot be Amended"

  - name: ModificationCount
    label: ModificationCount
    description: "Number of Modifications. Must be less than the max Subfield Index of CF."
    type: uint8
    size: 1
    example_hex: 00
    example_value: 0
    notes: ""

  - name: Modifications
    label: Modifications
    type: Amendment[]

  - name: RefTxID
    label: Ref Tx-ID
    description: "Tx-ID of the associated Result action (governance) that permitted the modifications."
    type: sha256
    size: 32
    example_hex: a8700385d4cc62628cc34629862121f84e6237689de8e45e151dcbc8cf30b33d
    example_value: "a8700385d4cc62628cc34629862121f84e6237689de8e45e151dcbc8cf30b33d"
    notes: ""
