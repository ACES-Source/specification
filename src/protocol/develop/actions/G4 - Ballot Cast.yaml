#
# Ballot Cast Action: Used by Token Owners to cast their ballot (vote) on proposals raised by the Issuer (Referendum) or other token holders (Initiative). 1 Vote per token unless a vote multiplier is specified in the relevant Asset Definition action.
#

code: G4

metadata:
  name: BallotCast
  label: Ballot Cast Action
  description: "Ballot Cast Action -  Used by Token Owners to cast their ballot (vote) on proposals raised by the Issuer (Referendum) or other token holders (Initiative). 1 Vote per token unless a vote multiplier is specified in the relevant Asset Definition action."
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name: User
      label: "Token Owner's Public Address"
      comments:

  outputs:
    - name: Contract
      label: Contract Public Address
      comments: Dust limit rule minimum value output of 546

fields:
  - name: Header
    label: Header
    description: "Common header data for all actions"
    type: Header
    notes: "Common header data for all actions."

  - name: AssetType
    label: Asset Type
    description: "eg. Share, Bond, Ticket"
    type: string
    size: 3
    example_hex: 525245
    example_value: "RRE"
    notes: ""

  - name: AssetID
    label: Asset ID
    description: "Randomly generated base58 string.  Each Asset ID should be unique.  However, a Asset ID is always linked to a Contract that is identified by the public address of the Contract wallet. The Asset Type can be the leading bytes - a convention - to make it easy to identify that it is a token by humans."
    type: string
    size: 32
    example_hex: 61706d3271737a6e686b7332337a386438337534317338303139687972693369
    example_value: "apm2qsznhks23z8d83u41s8019hyri3i"
    notes: ""

  - name: VoteTxnID
    label: Vote Txn ID
    description: "Tx-ID of the Vote the Ballot Cast is being made for."
    type: sha256
    size: 32
    example_hex: f3318be9fb3f73e53b29868beae46b42911c2116f979a5d3284face90746cb37
    example_value: "f3318be9fb3f73e53b29868beae46b42911c2116f979a5d3284face90746cb37"
    notes: ""

  - name: Vote
    label: Vote
    description: "Length 1-255 bytes. 0 is not valid. Accept, Reject, Abstain, Spoiled, Multiple Choice, or Preference List. 15 options total. Order of preference.  1st position = 1st choice. 2nd position = 2nd choice, etc.  A is always Accept and B is always reject in a Y/N votes."
    type: nvarchar8
    example_hex: 0141
    example_value: "A"
    notes: ""
