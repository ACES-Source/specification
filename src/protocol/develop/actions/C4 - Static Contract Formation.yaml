#
# Static Contract Formation Action:
#

code: C4

metadata:
  name: StaticContract Formation
  label: Static Contract Formation
  description: "Static Contract Formation Action"

rules:
  fee:
  inputs:
    - name: PartyX
      label: "Issuer or Party X Public Address"
      comments: "Any number of involved parties with this contract."

fields:
  - name: ContractName
    label: Contract Name
    description: >
        Can be any unique identifying string, including human readable names for branding/vanity purposes.
        Contract identifier (instance) is the bitcoin public address.
        If the public address is lost, then the administration will have to reissue the entire contract, Asset Definition and tokens with the new public address.
        Smart contracts can be branded and specialized to suit any terms and conditions.
    type: varchar
    # varchar size is number of bits to serialize the size of the value
    size: 8
    example: "Tesla - Shareholder Agreement"
    notes: ""

  - name: ContractCode
    label: Contract Code
    description: "32 randomly generated bytes. Each Contract Code should be unique. The Contract ID will be human facing and will be the Contract Code, with a checksum, encoded in base58 and prefixed by 'CON'. Contract ID = CON + base58(ContractCode + checksum).  Eg. Contract ID = 'CON18RDoKK7Ed5zid2FkKVy7q3rULr4tgfjr4'"
    type: ContractCode
    notes:

  - name: BodyOfAgreementType
    label: Body of Agreement Type
    description: "1 - SHA-256 Hash, 2 - Tokenized Body of Agreement Format"
    type: uint
    size: 1
    example_hex: 01
    example: "1"
    notes: "Body of Agreement - Amendments can be restricted to a vote."
    int_values:
      - 1
      - 2

  - name: BodyOfAgreement
    label: Body of Agreement
    description: "SHA-256 hash of the body of the agreement (full contract in pdf format or the like) or the full terms and conditions of an agreement in the Tokenized Body of Agreement format.  This is specific to the smart contract and relevant Assets.  Legal and technical information."
    type: varbin
    # varbin size is number of bits to serialize the size of the data
    size: 32
    notes: ""

  - name: ContractType
    label: Contract Type
    description: "Describes the purpose of the contract."
    type: varchar
    # varchar size is number of bits to serialize the size of the value
    size: 8
    example_hex: 184e6f6e2d446973636c6f737572652041677265656d656e74
    example: "Non-Disclosure Agreement"
    notes: ""

  - name: SupportingDocs
    label: Supporting Documentation
    description: "Supporting documents that are important to the contract."
    type: Document[]

  - name: ContractRevision
    label: Contract Revision
    description: "Counter 0 to (2^32)-1"
    type: uint
    size: 4
    example_hex: 0000
    example: "0"
    notes: ""

  - name: GoverningLaw
    label: Governing Law
    description: "5 Letter Code to identify which governing law the contract will adhere to.  Disputes are to be settled by this law in the jurisdiction specified below. Private dispute resolution organizations can be used as well.  A custom code just needs to be defined."
    type: fixedchar
    size: 5
    example_hex: 5553410000
    example: "USA"
    notes: ""

  - name: Jurisdiction
    label: Jurisdiction
    description: "Legal proceedings/arbitration will take place using the specified Governing Law in this location."
    type: fixedchar
    size: 5
    example_hex: 55532d4341
    example: "US-CA"
    notes: ""

  - name: EffectiveDate
    label: Effective Date
    description: "Start date of the contract."
    type: Timestamp
    notes: ""

  - name: ContractExpiration
    label: Contract Expiration
    description: "All actions related to the contract will cease to work after this timestamp. The smart contract will stop running.  This will allow many token use cases to be able to calculate smart contract running costs. Eg. an issuer is creating tickets for an event on the 5th of June 2018.  The smart contract will facilitate exchange and send transactions up until the 6th of June.  Wallets can use this to forget tokens that are no longer valid - or at least store them in an 'Expired' folder."
    type: Timestamp
    notes: ""

  - name: ContractURI
    label: Contract URI
    description: "Length 0-255 bytes. Points to an information page that also has a copy of the Contract.  Anyone can go to the website to have a look at the price/token, information about the issuer (company), information about the Asset, legal information, etc.  There will also be a way for token owners to vote on this page and contact details with the issuer/tokenized companies. Could be a IPv6/IPv4, or txn-id for on chain information or even a public address (DNS)."
    type: varchar
    # varchar size is number of bits to serialize the size of the value
    size: 8
    example_hex: 3468747470733a2f2f746f6b656e697a65642e636f6d2f436f6e74726163742f3371656f534367374a6d66536e4a65734a466f6a6a
    example: "https://tokenized.com/Contract/3qeoSCg7JmfSnJesJFojj"
    notes: ""

  - name: PrevRevTxID
    label: PrevRevTxID
    description: "The Tx-ID of the previous contract revision."
    type: TxId
    notes: ""

  - name: Entities
    label: Entities
    type: Entity[]
    description: "A list of legal entities associated with this contract."
