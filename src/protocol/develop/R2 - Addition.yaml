#
# Addition Action: Adds a User's public address to a global distributed whitelist. Entities (eg. Issuer) can filter by the public address of known and trusted entities (eg. KYC Databases such as coinbase) and therefore are able to create sublists - or subsets - of the main global whitelist.
#

code: R2

metadata:
  name: Addition
  label: Addition Action
  description: "Addition Action -  Adds a User's public address to a global distributed whitelist. Entities (eg. Issuer) can filter by the public address of known and trusted entities (eg. KYC Databases such as coinbase) and therefore are able to create sublists - or subsets - of the main global whitelist. "
  validation: AssetCreation
  rejection: Rejection

rules:
  fee:
  inputs:
    - name:
      label: "Register's Public Address"
      comments:

  outputs:
    - name:
      label: "User's Public Address"
      comments: Dust limit rule minimum value output of 546

    - name:
      label: "Register's Public Address"
      comments:

    - name:
      label: OP_RETURN (Addition Action)
      comments: Only one Tokenized action (excluding Message actions) per txn.  Action payload is always the last index of the txn outputs.  There is no limit to the number of M1 (message) actions per txn.

    - name:
      label: "Miner's Fee"
      comments: "~550-1000 Bytes to account for return data and txn data."

fields:
  - name: Header
    label: Header
    description: "Common header data for all messages"
    type: Header
    notes: "Common header data for all messages."

  - name: TextEncoding
    label: Text Encoding
    description: " 0 = ASCII, 1 = UTF-8, 2 = UTF-16, 3 = Unicode.  Encoding applies to all 'text' data types. All 'string' types will always be encoded with ASCII.  Where string is selected, all fields will be ASCII."
    type: uint8
    size: 1
    example_hex: 00
    example_value: "0"
    notes: "Can be changed by Issuer or Operator at their discretion."

  - name: Sublist
    label: Sublist
    description: "Null value = Global KYC compliance. eg. Organizations can define their own pseudo-anonymous and publicly available membership lists."
    type: string
    size: 4
    example_hex: 00000000
    example_value: ""
    notes: ""

  - name: KYC
    label: KYC
    description: "Y/N"
    type: string
    size: 1
    example_hex: 59
    example_value: "Y"
    notes: ""

  - name: Jurisdiction
    label: Jurisdiction
    description: ""
    type: string
    size: 5
    example_hex: 4155530000
    example_value: "AUS"
    notes: ""

  - name: DOB
    label: DOB
    description: "Date of Birth : DD/MM/YYYY"
    type: time
    size: 8
    example_hex: 0000007ff7a48180
    example_value: "Tue Jun 02 1987 17:00:00 GMT+1000 (AEST)"
    notes: ""

  - name: CountryofResidence
    label: Country of Residence
    description: ""
    type: string
    size: 3
    example_hex: 415553
    example_value: "AUS"
    notes: ""

  - name: SupportingDocumentationHash
    label: Supporting Documentation Hash
    description: ""
    type: sha256
    size: 32
    example_hex: 98ea6e4f216f2fb4b69fff9b3a44842c38686ca685f3f55dc48c5d3fb1107be4
    example_value: "98ea6e4f216f2fb4b69fff9b3a44842c38686ca685f3f55dc48c5d3fb1107be4"
    notes: ""

  - name: Message
    label: Message
    description: "Length 0-65,535 bytes. Note"
    type: nvarchar16
    example_hex: 0008757365726e616d65
    example_value: "username"
    notes: ""
